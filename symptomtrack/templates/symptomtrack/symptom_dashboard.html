{% extends 'homepage/base.html' %}
{% load static %}
{% block content %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tracker Dashboard</title>
    <style>
        body {
            background: radial-gradient(#B287A340, #0D5C6340) !important;
        }
    </style>
</head>
<body>
    <h1 style="color: #000">Your Tracker Dashboard</h1>
    <div class="container-fluid">
        <div class="text-center">
                <select class="form-control col-5">
                    <option value="spider">My Tracker Count</option>
                    <option value="scatter">My Tracker Timeline</option>
                </select>
            </div>
        <!--<div class="spider box" style="width:100%;height:900;">
                {% if spider_graph %}
                <div class="container-fluid">
                  {{ spider_graph|safe }}
                </div>
                {% endif %}
              </div>
        <div class="scatter box" style="width:100%;height:900;">
                {% if line_graph %}
                <div class="container-fluid">
                  {{ line_graph|safe }}
                </div>
                {% endif %}
        </div>-->

                {% for symptom_type, graphs in charts.items %}
        <div class="chart-container">
            <h2 style="text-align: center;">{{ symptom_type|title }}</h2>

            <!-- Spider Chart -->
            <div class="spider box" style="width:100%;height:900;">
                <div class="container-fluid">
                    {{ graphs.spider_graph|safe }}
                </div>
            </div>

            <!-- Line Chart -->
            <div class="scatter box" style="width:100%;height:900;">
                <div class="container-fluid">
                    {{ graphs.line_graph|safe }}
                </div>
            </div>
        </div>
        {% endfor %}

       <script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
        <script>
            $(document).ready(function(){
                $("select").change(function(){
                    $(this).find("option:selected").each(function(){
                        var optionValue = $(this).attr("value");
                        if(optionValue){
                            $(".box").not("." + optionValue).hide();
                            $("." + optionValue).show();
                        } else{
                            $(".box").hide();
                        }
                    });
                }).change();
            });
        </script>
</body>
 {% endblock %}
</html>
